# 製品要件定義書（Product Requirements Document）

## プロジェクト概要

### プロジェクト名
Vampire Survivors-Like Browser Game（ヴァンサバライク ブラウザゲーム）

### プロジェクト目的
ヴァンパイアサバイバーズに触発された、ブラウザで動作する2Dアクションゲームを開発する。プレイヤーは大量の敵を倒しながら生き残り、レベルアップして強化していくゲーム体験を提供する。

**本作独自の価値提案**:
- **環境インタラクション**: フィールドが戦略的要素として機能し、地形や破壊可能オブジェクトを活用した戦闘
- **革新的なビルドシステム**: 属性とフュージョンによる深い戦略性と無限のビルド可能性

### 背景
- ヴァンパイアサバイバーズの人気により、同ジャンルのゲームに対する需要が高まっている
- ブラウザゲームとして提供することで、インストール不要で手軽にプレイ可能
- 段階的開発により、まずプロトタイプで基本メカニクスを検証し、その後機能を拡充
- **差別化要素**: 既存の類似ゲームにはない環境との相互作用と属性システムで独自性を確立

## ターゲットユーザー

### 主要ターゲット
- ヴァンパイアサバイバーズや類似ゲームを楽しむプレイヤー
- 手軽にプレイできるブラウザゲームを求めるカジュアルゲーマー
- 短時間（15-30分）で完結するゲーム体験を求めるプレイヤー

### ユーザー特性
- 年齢層: 15歳以上
- ゲーム経験: 初心者から中級者
- プレイ環境: PC（デスクトップ/ノートPC）のブラウザ
- 期待する体験: 達成感、爽快感、成長要素

## 製品ビジョン

### 短期ビジョン（プロトタイプ）
最小限の機能で、ヴァンサバライクゲームのコアメカニクスを実装し、ゲーム性を検証する。

### 中期ビジョン（機能拡充版）
複数のキャラクター、武器、ステージを実装し、リプレイ性と戦略性を高める。

### 長期ビジョン
- オンラインランキング機能
- アンロック要素や実績システム
- ユーザー生成コンテンツ対応

## 機能要件

### プロトタイプ（Phase 1）の必須機能

#### 1. プレイヤーキャラクター
- **基本機能**
  - 1種類のキャラクター
  - キーボード（WASD/矢印キー）による8方向移動
  - HP管理（ダメージ受けると減少）
  - 経験値とレベル管理

#### 2. 武器システム
- **基本機能**
  - 1種類の武器（自動攻撃）
  - 周囲の敵に自動で攻撃を行う
  - レベルアップによる強化（ダメージ、攻撃速度、範囲）

#### 3. 敵システム
- **基本機能**
  - 1種類の敵キャラクター
  - プレイヤーに向かって移動
  - HP管理とダメージ処理
  - 倒すと経験値ドロップ
  - 定期的にスポーン（画面外）
  - スポーン数は時間経過で増加

#### 4. レベルアップシステム
- **基本機能**
  - 経験値獲得による自動レベルアップ
  - レベルアップ時にゲーム一時停止
  - 武器強化の選択肢を表示（3つの選択肢）
  - 選択により武器性能向上

#### 5. ゲームフロー
- **基本機能**
  - タイトル画面（ゲームスタートボタン）
  - ゲーム画面（制限時間: 10分）
  - ゲームオーバー画面（生存時間、倒した敵の数表示）
  - リトライ機能

#### 6. UI表示
- **基本機能**
  - プレイヤーHP表示
  - 経験値バー
  - 現在のレベル表示
  - 経過時間表示
  - 倒した敵の数表示

#### 7. ステージ
- **基本機能**
  - 1種類のステージ（平坦なフィールド）
  - スクロール可能なマップ
  - 簡単な背景グラフィック

### 将来の機能（Phase 2以降）

#### 🌍 環境インタラクション（Phase 2）
**リアクティブ・フィールドシステム**

##### 破壊可能オブジェクト
- **岩・木・建物**: 破壊時に範囲ダメージ、素材（クリスタル）ドロップ
- **爆弾樽**: 攻撃で爆発、敵を巻き込む
- **回復の泉**: 立ち止まると回復
- **トラップ**: 敵を誘導して倒す

##### 地形効果
- **水溜まり**: 移動速度-20%、雷属性ダメージ2倍
- **溶岩**: 継続ダメージ、火属性ダメージ+50%
- **草地**: 移動速度+10%、回復効果
- **氷床**: 滑る、氷属性ダメージ+30%

##### フィールド変化
- **プレイヤー主導**: 火属性で草地が燃える、水属性で溶岩が固まる
- **敵主導**: 敵が破壊オブジェクトを壊す、ボス級が地形を変える
- **連鎖反応**: 環境同士の相互作用（火→水→蒸気）

##### インタラクティブオブジェクト
- テレポートゲート、バリケード、罠設置ポイント

#### 🔮 革新的なビルドシステム（Phase 2-3）
**エレメンタル・フュージョンシステム**

##### 属性システム（5属性）
- 🔥 **火**: 継続ダメージ（DoT）
- 💧 **水**: 敵を遅くする
- ⚡ **雷**: チェインダメージ（敵から敵へ伝播）
- 🌿 **自然**: 回復効果、範囲拡大
- 🌙 **闇**: クリティカル率アップ、吸収

##### フュージョン効果（2属性組み合わせ）
```
火 + 水 = 蒸気   → 視界低下＆範囲DoT
火 + 雷 = プラズマ → 超高火力単体攻撃
水 + 雷 = 嵐     → 範囲感電
火 + 自然 = 爆炎  → 大爆発
水 + 闇 = 氷     → 凍結
雷 + 闇 = 呪雷   → HP吸収＆麻痺
自然 + 闇 = 毒   → 強力なDoT＋弱体化
```

##### トリニティ効果（3属性組み合わせ）
- **火+水+雷 = 天災**: 全範囲に壊滅的ダメージ
- **水+自然+闇 = 深淵**: 敵の動きを完全停止
- **火+雷+闇 = 破滅**: 即死級の単体ダメージ

##### 武器合成システム
- レベルアップ時に武器へ属性付与
- 同じ武器に複数属性を重ねがけ可能
- 2属性でフュージョン、3属性でトリニティ発動
- 属性の組み合わせで無限の戦略

##### シナジーボーナス
- **武器タイプ相性**: 近距離+遠距離=全方位カバー+10%ダメージ
- **属性統一**: 同属性武器2つで属性効果2倍
- **対属性**: 火と水の武器でフュージョン常時発動

##### リスク/リターン選択
レベルアップ時に出現する危険な選択肢:
- 「最大HP-20、攻撃力+100%」
- 「被ダメージ+50%、経験値獲得2倍」
- 「移動速度-30%、全武器範囲2倍」
- 「ランダム効果（大吉～大凶）」

#### 複数キャラクター（Phase 2）
- 異なる初期ステータスと固有武器を持つキャラクター
- キャラクター選択画面
- 各キャラクター固有の属性親和性

#### 複数武器・アイテム（Phase 2-3）
- 多様な攻撃パターンを持つ武器（15種類以上）
- パッシブアビリティアイテム
- 武器の進化システム（属性による分岐進化）

#### 複数ステージ（Phase 3）
- 異なるテーマとギミックを持つステージ
  - 火山ステージ（溶岩多め）
  - 氷原ステージ（氷床多め）
  - 森林ステージ（草地と木々）
- ステージごとの固有の敵と環境
- ボスエネミー（地形を変える能力）

#### 強化・アンロックシステム（Phase 3）
- ゲーム間で持続する恒久的な強化
- 新キャラクター・武器・属性のアンロック
- 実績システム
- 図鑑システム（フュージョン効果コレクション）

#### オンライン機能（Phase 4）
- グローバルランキング
- スコア共有機能
- ビルド共有機能（使用した属性・武器の組み合わせ）

## 非機能要件

### パフォーマンス
- 60FPSで安定動作
- 画面上の敵数：最大100体まで処理可能
- ロード時間：初回ロード5秒以内

### 対応環境
- **ブラウザ**: Chrome、Firefox、Safari、Edge（最新版）
- **画面解像度**: 1280x720以上推奨
- **入力デバイス**: キーボード必須

### ユーザビリティ
- シンプルで直感的な操作
- ゲームルールは画面上で説明不要なレベルの明快さ
- レスポンシブな操作感

### 保守性
- モジュール化されたコード構造
- 新キャラクター・武器の追加が容易
- データドリブンな設計（JSON等での設定管理）

### セキュリティ
- クライアントサイドのみで完結（Phase 1）
- 将来的にオンライン機能実装時のセキュリティ対策

## 制約事項

### 技術的制約
- ブラウザのみで動作（プラグイン不要）
- クライアントサイドJavaScript/TypeScriptで実装
- モバイル対応は将来的に検討（Phase 1では対象外）

### リソース制約
- プロトタイプは最小限のグラフィックリソース
- 初期段階では簡易的なグラフィック（プレースホルダー）を使用可能

### スコープ制約
- Phase 1ではシングルプレイヤーのみ
- オンライン機能は Phase 2以降
- モバイル対応は Phase 3以降

## 成功基準

### Phase 1（プロトタイプ）
- ✅ コアゲームループが動作する（移動→敵出現→攻撃→経験値獲得→レベルアップ→強化）
- ✅ 10分間のゲームプレイが安定動作
- ✅ レベルアップによる成長実感が得られる
- ✅ 基本的なゲームバランス調整が完了

### Phase 2（環境インタラクション導入）
- ✅ 破壊可能オブジェクト3種類以上実装
- ✅ 地形効果3種類以上実装
- ✅ フィールド変化システム実装
- ✅ 環境を利用した戦略が有効に機能
- ✅ プレイヤーが環境の重要性を実感できる

### Phase 3（ビルドシステム導入）
- ✅ 5属性システム実装
- ✅ 基本フュージョン効果5種類以上実装
- ✅ 武器合成システム実装
- ✅ 属性の組み合わせで戦略性が大幅に向上
- ✅ プレイヤーが独自のビルドを構築できる

### Phase 4（完成版）
- ✅ 全フュージョン効果15種類実装
- ✅ トリニティ効果10種類実装
- ✅ 複雑な環境インタラクション実装
- ✅ 3種類以上のキャラクター実装
- ✅ 5種類以上の武器タイプ実装
- ✅ 3種類以上のステージ実装
- ✅ オンラインランキング実装
- ✅ ユーザー満足度調査で85%以上の好評価

## マイルストーン

### Phase 1: プロトタイプ開発
- **期間**: 初期開発
- **ゴール**: 基本ゲームループの実装と動作検証
- **成果物**: プレイ可能なプロトタイプ
- **差別化要素**: なし（基本メカニクスのみ）

### Phase 2: 環境インタラクション導入
- **期間**: Phase 1完成後
- **ゴール**: リアクティブ・フィールドシステムの実装
- **成果物**: 環境と相互作用するゲームプレイ
- **差別化要素**: 破壊可能オブジェクト、地形効果、フィールド変化

### Phase 3: ビルドシステム導入
- **期間**: Phase 2完成後
- **ゴール**: エレメンタル・フュージョンシステムの実装
- **成果物**: 属性とフュージョンによる戦略的ビルド構築
- **差別化要素**: 5属性、フュージョン効果、武器合成システム

### Phase 4: 完成版
- **期間**: Phase 3完成後
- **ゴール**: 全機能の統合とコンテンツ拡充
- **成果物**: 完全版ゲーム
- **差別化要素**: トリニティ効果、複雑な環境連鎖、ビルド共有機能

## 優先順位

### Must Have（必須）
- プレイヤー移動
- 敵の出現と攻撃
- 自動武器攻撃
- レベルアップシステム
- 基本UI

### Should Have（実装すべき）
- ゲームオーバー処理
- タイトル画面
- リトライ機能
- 経過時間と撃破数表示

### Nice to Have（あれば良い）
- サウンドエフェクト
- BGM
- パーティクルエフェクト
- スクリーンシェイク

---

**作成日**: 2025-11-28
**最終更新**: 2025-11-28
**バージョン**: 2.0
**ステータス**: 承認済み
**変更内容**: 差別化要素（環境インタラクション＋ビルドシステム）追加
